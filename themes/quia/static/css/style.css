/* TODO changes: 
   
 */

@media (prefers-reduced-motion: no-preference) {
  /* --------------------------------------------------
     2) Transition any property that uses your vars
     -------------------------------------------------- */
  html, body, div, span, section,
  .explanation, pre,
  h1, h2, h3, h4, h5, h6,
  a, li, ol, ul,
  table, thread, tr, td, th,
  .footer, .bottomnav-menu, .bottomnav-menu a, .wrapper,
  .grid-item,
  .book-toc li.part a,
  .sidenav a, .post-toc, button.post-toc__toggle, button.toc-caret, #TableOfContents ol li a, #TableOfContents ol li ol li a,
  .mediabox, figcaption, 
  .mediabox svg, .mermaid, 
  .chroma, table.chroma, pre, code, .chroma .hl  {
    transition:
      background-color 0.4s ease,
      color            0.4s ease,
      border-color     0.4s ease;
  }
  
  .mediabox svg polygon, 
  .mediabox svg path,
  .mediabox svg ellipse,
  .mediabox svg circle,
  .mediabox svg rect,
  .mediabox svg line, tspan, text {
    transition:
      fill         0.4s ease,
      stroke       0.4s ease,
      stroke-width 0.4s ease;
  }
}


/* dark */
:root {
  --bg: #181818; /* 242424 or 181818 */
    --bg-dark: #111;
  --fg: #eee;
  --fg-muted-bright: #c9c9c9;
  --fg-muted: #aaa;

  --ex-bg: #333;
  --pre-bg: #333;

  --border: #555;

  --nav-bg: #181818;
  --footer-bg: #181818;


  --link:          #4db8af;
  --link-hover:    #39a59c;
  --link-visited:  #8D55cc;

  --link: #6cf;
  --link-hover: #005fa3;
  --link-visited: #8D55cc;


  --accent: #aaa;

  /* logo images */
  --bg-image: url(../../media/because_dark.png);
  --qed-image: url(../../media/qed_dark.png);
  --qed-image-path: ../../media/qed_dark.png;
  
  /* chroma code blocks */
  --code-bg:        var(--pre-bg);
  --code-text:      var(--fg);
  --tok-keyword:    #c586c0;
  --tok-string:     #ce9178;
  --tok-comment:    var(--fg-muted);
  --tok-error:      #f44747;
  --tok-variable:   #9cdcfe;
  --tok-type:       #4ec9b0;
  --tok-number:     #b5cea8;
  --tok-builtin:    #dcdcaa;
  --tok-punctuation:var(--fg);
  --tok-highlight:  #3b3b1b;
  --tok-whitespace: #555;
}

.off-white {
  /* Core colours */
  --bg:            #F8F0E3; /* main page background */
  --bg-dark:       #E8DED2; /* ~10 % darker for hovers/active states */
  --fg:            #111;    /* same high‑contrast text */
  --fg-muted-bright:#444;
  --fg-muted:      #666;

  /* Containers (slightly darker than the new bg) */
  --ex-bg:         #EEE5D4; /* example boxes, call‑outs */
  --pre-bg:        #E0D6C8; /* code blocks, preformatted */

  /* Borders */
  --border:        #c9c9c9; /* neutral works on both light bgs */

  /* Nav & footer backgrounds */
  --nav-bg:        #ffffff; /* keeps header crisp and separate */
  --footer-bg:     #F8F0E3; /* #F4EADD; */

  /* Links (unchanged keeps brand consistency & still passes contrast) */
  --link:          #009999;
  --link-hover:    #005fa3;
  --link-visited:  #663399;

  /* Accents (spacers, underlines, etc.) */
  --accent:        #888;    /* ever‑so‑slightly softer grey */

  /* Logo / imagery paths (unchanged) */
  --bg-image:      url(../../media/because.png);
  --qed-image:     url(../../media/qed.png);
  --qed-image-path:../../media/qed.png;
  
  /* chroma code blocks */
  --code-bg:        var(--pre-bg);
  --code-text:      var(--fg);
  --tok-keyword:    #9b0000;
  --tok-string:     #004085;
  --tok-comment:    var(--fg-muted);
  --tok-error:      #d73a49;
  --tok-variable:   #b04000;
  --tok-type:       #660199;
  --tok-number:     #005a8c;
  --tok-builtin:    var(--fg-muted-bright);
  --tok-punctuation:#000;
  --tok-highlight:  #f5e2bb;
  --tok-whitespace: var(--accent);
}

.white {
   /* Core colours */
  --bg: #F8F8F8;
  --bg-dark: #eee;
  --fg: #111;
  --fg-muted-bright: #444;
  --fg-muted: #666;

  /* Containers */
  --ex-bg: #eee;
  --pre-bg: #ddd;

  /* Borders */
  --border: #c9c9c9;

  /* Nav & footer bg */
  --nav-bg: #fff;
  --footer-bg: #F8F0E3;

  /* Links */
  --link: #099;
  --link-hover: #005fa3;
  --link-visited: #663399;

  /* Accents (e.g. .spacer, underline) */
  --accent: #888;

  /* logo images */
  --bg-image: url(../../media/because_white.png);
  --qed-image: url(../../media/qed_white.png);
  --qed-image-path: ../../media/qed_white.png;
  
  /* chroma code blocks */
  --code-bg:        var(--pre-bg);
  --code-text:      var(--fg);
  --tok-keyword:    #aa0000;
  --tok-string:     #004085;
  --tok-comment:    var(--fg-muted);
  --tok-error:      #d73a49;
  --tok-variable:   #b04000;
  --tok-type:       #660199;
  --tok-number:     #005a8c;
  --tok-builtin:    var(--fg-muted-bright);
  --tok-punctuation:#000;
  --tok-highlight:  #f5e2bb;
  --tok-whitespace: var(--accent);
}


.explanation {
  background: var(--ex-bg);
  padding: 1ex;
}

/* a lot of the left and right margins are based on the golden ratio (to the
   line height 1em) */

html {
  overflow-y: scroll;
  height: 100vh;
}


@font-face {
  font-family: 'Klingon';
  src: url('/fonts/kapiqad.woff') format('woff');
  font-weight: normal;
  font-style: normal;
}

/* for unicode dingbats on browsers (safari) that don't support them */
@font-face {
  font-family: "Noto Sans Symbols 2", sans-serif;
  font-weight: 400;
  font-style: normal;
}

/*
@font-face {
  font-family: 'Palatino';
  src: url('/fonts/palr45w.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}*/

/* palatino alternative */
@font-face {
  font-family: 'Book Antiqua';
  src: url('/fonts/bookantiqua.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Book Antiqua';
  src: url('/fonts/bookantiqua_bold.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
}

body {
  /*background-image: var(--bg-image);
  background-position: top left;
  background-repeat: no-repeat;
  background-size: 93px 93px;*/
  margin: 0;
  padding-left: 6em; /* margin-left: 6em /* breaks mathjax for quirky reasons. hopefully left padding doesn't break things like right padding does */
  margin-right: 19.7em;
  text-align: justify;
     /* Sadly URW Palladio L looks like shit on current Linuces in Xft,
      * even though it looks fine in GhostScript. FreeSerif is much better. */
  font-family: FreeSerif, 'Book Antiqua', 'Noto Sans Symbols 2', serif;  /* TODO explore new fonts */
  font-family: "EB Garamond", 'Noto Sans Symbols 2', serif;
  
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
  line-height: 165%; /* 135% */
  min-height: 100%;
  position: relative;

  background-color: var(--bg);
  color: var(--fg);
}


.logo-link {
  /* Position the logo absolutely relative to the body */
  position: absolute;
  top: 0; /* Align to the top of the body */
  left: 100px; /* Align to the very left edge of the body element, which includes its margin */

  /* To account for the 6em margin-left on the body, shift the logo right */
  transform: translateX(-6em); /* Move it left by the body's margin-left */

  display: block;
  width: 93px;
  height: 93px;
  z-index: 10; /* Ensure it's above other content if needed */
}

.site-logo {
  background-image: var(--bg-image);
  background-position: top left;
  background-repeat: no-repeat;
  background-size: 93px 93px;
  width: 93px; /* Ensure these are set for the div */
  height: 93px; /* Ensure these are set for the div */
  display: block;
}

/* Q.E.D. symbol */
body::after{
  content:"";
  position:absolute;
  right:-19.7rem;
  bottom:0;
  width:64px;
  height:64px;
  background-image: var(--qed-image);
  background-repeat: no-repeat;
  background-position: bottom right;
  background-size: 64px 64px;
  /*background:url(../../media/qed.jpeg) no-repeat bottom right/64px 64px; /* var(--qed-image) */
  pointer-events:none;        /* makes it “untouchable” */
}

.content {      
    padding-top: 3.5em; /* make into golden ratio? */
    padding-bottom: 4.65em;

}

/* override the normal margin widths of these elements so they don't look funny
   with the paragraph indents */

/* start header and footer */
/* do not display these when not mobile */
.header {
    display: none;
}
.footer {
    position: absolute;
    left: 0;
	right: 0;
	bottom: 0; 
    bottom: 0px;
    width: 100%;
    height: 2.25em;
    text-align: center;
    padding-left: 9.85em;
    background-color: var(--footer-bg);
}

.nav-item {
      display: inline;
      letter-spacing: 3px;
      font-size: 14px;
}

.bottomnav-menu {
  display: inline-block;
  color: var(--accent);
  border-top: 1px solid var(--border);
  padding-left: 2.5em;
  padding-right: 2.5em;
  padding-top: 0.5em;
  margin-left: 0;
}

.bottomnav-menu a {
  text-align: right;
  text-decoration: none;
  line-height: 100%;
  color: var(--link);
  /*display: block;*/
  /*padding: 0.2em 0;*/
  position: relative;
}
   
.bottomnav-menu a:hover {
  color: var(--link-hover);
}
   
.spacer {
  color: var(--fg-muted);
  font-size: 16px;
}

/* end header and footer */

ul, ol, dir {
  -moz-padding-start: 3.24em;
}

a {
  color: var(--link);
  text-decoration: none;
}
a:hover,
a:focus {
  color: var(--link-hover);
}
a:visited {
  color: var(--link-visited);
}


p { 
      /* hanging indent for paragraphs */
      /* text-indent: -1.62em; margin-left: 1.62em; */
      padding-bottom: 0.5em;
      padding-top: 0.5em;
      margin-left: 0.8em;
      min-width: 200px;

}

p, ul, ol, menu, dir, mjx-container {
      margin-top: 0em;
	  margin-bottom: 0em;
      max-width: 42em;
      padding-left: 0.5em;
      padding-right: 0.5em;
}

blockquote {
	max-width: 41.5em;
    margin: 1em 0 1em 2.25em;
	padding-right: 0;
	font-family: 'spectral';
    font-style: italic;
	color: var(--fg-muted-bright);
}

blockquote>blockquote {
    margin: 0;
}

/* TODO: blockquote>blockquote>p should have these. a single blockquote should be naked. */
blockquote > blockquote > p:before {
  content: '“';
}
blockquote > blockquote > p:after {
  content: '”';
}

.content blockquote>ul {
  display: flex;
  list-style-type: "- ";
  justify-content: flex-end; /* Aligns content to the right */
  padding-right: 3em;
  font-style: normal;
}

/* can be used for basic blockquote citations */
.content blockquote>blockquote>ul {
  list-style-type: "";
}

.content ul, .content ol {
   margin-left: 4.25em;
   max-width: 39.25em;
}



.bottomnav-menu { /* TODO should move this; refactor to component specific CSS */
	margin-left: 0em;
}


h1, h2, h3 {
  font-weight: 400;
  font-variant: small-caps;
  color: var(--link);
  border-bottom: 1px solid var(--border);
  padding-right: 0.1em;
  padding-left: 1.25em;
  
  margin-right: -2em;
  margin-bottom: 0.25em;
  margin-top: 0.25em;
  text-align: right;
  clear: both;
  font-family: 'Book Antiqua', 'Noto Sans Symbols 2';
}

h1 {
  letter-spacing: 6px;
  padding-bottom: 6px;
  font-size: 22px;
}
h2 {
  letter-spacing: 6px;
  padding-bottom: 6px;
  font-size: 18px;
}
h3 {
  letter-spacing: 4px;
  padding-bottom: 4px;
  font-size: 16px;
}

h4, h5, h6 {
  letter-spacing: 3px;
  padding-bottom: 3px;
  font-size: 14px;
}

/* BEGIN tables */
/* TODO this could be better with padding and margins etc. */

table {
  width: 100%;
  max-width: 44.5em;
  margin: 1em 0;
  margin-left: 0.8em;
  border-collapse: collapse;
  border-spacing: 0;
  font-size: 0.95em;
}

th, td {
  padding: 0.5em 0.75em;
  text-align: left;
  vertical-align: top;
  border-bottom: 1px solid var(--border);
}

th {
  font-variant: small-caps;
  letter-spacing: 1px;
  color: var(--fg);
  border-bottom: 2px solid var(--border);
}

td.numeric {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

tr:last-child td {
  border-bottom: none;
}




/* END tables */

/* BEGIN code blocks */
.pre-div {
    padding-left: 0.5em;
    padding-right: 0.5em;


}

/* TODO clean this up */
pre {
  background-color: var(--pre-bg);
  border: 1px solid var(--border);
  padding: 0.5em;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
  display: flex;
}

pre { /* tag for code blocks. not idea since other stuff might use pre */
    padding-bottom: 0.5em;
    padding-top: 0.5em;
    margin-left: 1.25rem;
    margin-top: 0em;
	margin-bottom: 0em;
    max-width: 41.2rem; /* why?? */
    padding-left: 0.5em;
    padding-right: 0.5em;
	
    border-radius: 6px;
	
	overflow-x: auto;
	white-space: pre; /* important: disables wrap */
	
}

@-moz-document url-prefix() {
  pre {
    /*border-radius: 0px; */
	scrollbar-width: thin; /* makes scrollbar on code blocks look alright on ff */
  }
}


/* WebKit-based browsers */
pre::-webkit-scrollbar {
  height: 6px;
}

pre::-webkit-scrollbar-track {
  background: transparent;
}

pre::-webkit-scrollbar-thumb {
  background-color: #bbb;
  border-radius: 3px;
}

code {
	
    line-height: 150%; /* 135% */

}

/* wrapper */
/* Base code block wrapper */
pre,
code {
  background: var(--code-bg);
  color: var(--code-text);
}

/* Chroma token types */
.chroma .c     { color: var(--tok-comment); }      /* Comment */
.chroma .err   { color: var(--tok-error); }        /* Error */
.chroma .k     { color: var(--tok-keyword); }      /* Keyword */
.chroma .l     { color: var(--tok-literal); }      /* Literal */
.chroma .n     { color: var(--tok-name); }         /* Name */
.chroma .o     { color: var(--tok-operator); }     /* Operator */
.chroma .p     { color: var(--tok-punctuation); }  /* Punctuation */
.chroma .cm    { color: var(--tok-comment); }
.chroma .cp    { color: var(--tok-comment); }
.chroma .c1    { color: var(--tok-comment); }
.chroma .cs    { color: var(--tok-comment); }

.chroma .gd    { color: var(--tok-deletion); }     /* Diff Deleted */
.chroma .gi    { color: var(--tok-insertion); }    /* Diff Inserted */

.chroma .ge    { font-style: italic; }
.chroma .gs    { font-weight: bold; }

.chroma .kc,
.chroma .kd,
.chroma .kn,
.chroma .kp,
.chroma .kr     { color: var(--tok-keyword); }

.chroma .kt     { color: var(--tok-type); }        /* Keyword.Type */

.chroma .ld     { color: var(--tok-string); }
.chroma .s      { color: var(--tok-string); }      /* String */
.chroma .sa,
.chroma .sb,
.chroma .sc,
.chroma .dl,
.chroma .sd,
.chroma .s2,
.chroma .se,
.chroma .sh,
.chroma .si,
.chroma .sr,
.chroma .ss,
.chroma .sx,
.chroma .s1     { color: var(--tok-string); }

.chroma .m,
.chroma .mf,
.chroma .mh,
.chroma .mi,
.chroma .mo     { color: var(--tok-number); }      /* Numbers */

.chroma .na,
.chroma .nb,
.chroma .nc,
.chroma .no,
.chroma .nd,
.chroma .ni,
.chroma .ne,
.chroma .nf,
.chroma .nl,
.chroma .nn,
.chroma .nx,
.chroma .py,
.chroma .nt,
.chroma .nv     { color: var(--tok-variable); }

.chroma .ow     { color: var(--tok-operator); }
.chroma .w      { color: var(--tok-whitespace); }
.chroma .bp     { color: var(--tok-builtin); }
.chroma .vc,
.chroma .vg,
.chroma .vi,
.chroma .vm     { color: var(--tok-variable); }

.chroma .hl     { background-color: var(--tok-highlight); } /* For highlight lines */

.chroma .ln {
  display: inline-block;
  width: 2em;
  opacity: 0.6;
  user-select: none;
}

table.chroma {
  border-spacing: 0;
  width: 100%;
  
}

.chroma td {
  vertical-align: top;
  padding: 0;
}

.chroma .linenos {
  text-align: right;
  padding-right: 1em;
  user-select: none;
  color: var(--tok-line-number, #999);
}

.chroma .code {
  width: 100%;
}

.chroma {
  font-family: var(--monospace-font, ui-monospace, SFMono-Regular, monospace);
  font-size: 1em;
  line-height: 1.5;
  max-width: 41rem; /* idfk why. TODO fix this stuff later */
}



/* END code blocks */

/* BEGIN mathjax */
/* This might cause bugs... */


/* Individual items */
.CtxtMenu_MenuItem,
.MathJax_MenuItem,
.MJX-Menu-Item
{
  padding: .25em 1.5em .25em 2.25em; /* room for ✓ or ► */
  cursor: pointer;
}

/* Hover / focus */
.CtxtMenu_MenuItem:hover,
.MathJax_MenuItem:hover,
.MJX-Menu-Item:hover,
.CtxtMenu_MenuItem:focus,
.MathJax_MenuItem:focus,
.MJX-Menu-Item:focus
{
  background: var(--bg-dark);
  color: var(--fg);
}

/* Disabled items */
.CtxtMenu_MenuItemDisabled,
.MathJax_MenuDisabled,
.MJX-Menu-Item.MJX-MenuDisabled
{
  color: var(--fg-muted);
  cursor: default;
}

/* Check-marks or active ticks */
.CtxtMenu_MenuActive,
.MathJax_MenuActive,
.MJX-Menu-Checkbox.MJX-MenuActive
{
  color: var(--link);           /* highlight with your link colour */
}

/* Sub-menu arrows */
.CtxtMenu_MenuArrow,
.MathJax_MenuArrow,
.MJX-Menu-Arrow
{
  border-left-color: var(--fg);
}

/* Separators / rules */
.CtxtMenu_MenuSeparator,
.MathJax_MenuRule,
.MJX-Menu-Rule
{
  border-top: 1px solid var(--border);
  margin: .25em 0;
}

/* semi-transparent mask behind menu */
.MathJax_MenuMask,
.MJX-Menu-Overlay
{
  background: rgba(0,0,0,.05);
}

/* END mathjax */


/* begin side navigation css */
.menu-title {
    margin-right: 0.5em;
	margin-left: 7em;
}

.menu-title-top {
    margin-left: 12em; /* ~8.6em */
    margin-right: 0.5em;
}

.sidenav {
	/*background-color: var(--bg-dark);
	border-left: 1px solid var(--border);
	width: 15em;*/
  width: 16em;
  height: 100%;

  position: fixed;
  z-index: 1;
  padding-top: 1.85em;
  right: 0;
  overflow-x: hidden; /* Disable horizontal scroll */
  /*display: flex;
  align-items: center;*/
  
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
    
  display: flex;
  flex-wrap: wrap;
  justify-content: right;
  /*align-items: center;*/
  align-items: flex-start;

}

.wrapper {
  list-style-type: none;
  border-right: 1px solid var(--border);
  margin-right: 1em;
  margin-top: 1.2em;
  padding-bottom: 2.5em;
  padding-top: 0.5em;
  
  
}

.wrapper  ul, .wrapper ol {
	padding-left: 0.5em;
}

.sidenav a {
  text-align: right;
  text-decoration: none;
  line-height: 100%;
  color: var(--fg);
  position: relative;
}

.option {
  text-align: right;
  list-style-type: none;
  font-size: 16px; /*16px or 1em*/
}

.toc {
  font-size: 15px;  
}

.sidenav a:hover {
  color: var(--link);
}

.toc-scroll {
  overflow-y: auto;
  max-height: calc(85vh - 15em); /* adjust based on header/menu height */
  scrollbar-gutter: stable;

}

/* pretty scrollbar */
.toc-scroll::-webkit-scrollbar {
  width: 7px;
}
.toc-scroll::-webkit-scrollbar-thumb {
  background-color: #bbb;
  border-radius: 3px;
}
.toc-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.toc-scroll::-webkit-scrollbar-button {
  display: none;
  height: 0;                      /* extra safety */
}

.toc-scroll {
  scrollbar-width: thin;
  scrollbar-color: var(--fg-muted-bright) transparent;
  
}

.toc-scroll ul, .toc-scroll ol {
	margin-left: 4em;
	padding-right: 0em;
}

.toc-scroll ul ul,
.toc-scroll ol ol { 
  display: none;
  margin-left: 0em;
}

.toc-scroll li.open > ul, 
.toc-scroll li.open > ol {
  display: block;
}

.toc-scroll ul ul > li,
.toc-scroll ol ol > li {

	line-height: 155%;
	padding-right: 0.35em;
	font-size: 13px;

}

.toc-scroll ul ul > li a,
.toc-scroll ol ol > li a {
	color: var(--fg-muted-bright);
}

/* caret button */
.toc-caret {
  background: none;
  border: 0;
  cursor: pointer;
  font-size: 11pt;
  margin-right: 0.25em;
  transform: rotate(0deg);
  transition: transform 0.2s ease;
}

li.open > .toc-caret      { transform: rotate(45deg); }

/* optional: nicer visuals */
.toc-caret { color: var(--fg); }
li.open > .toc-caret { color: var(--link); }





/* being fancy effects */
/* fade in effect */
.sidenav a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 0.05em;
  background-color: var(--accent);
  opacity: 0;
  transition: opacity 300ms, transform 300ms;
}
.sidenav a:hover::after,
.sidenav a:focus::after {
  opacity: 1;
  transform: translate3d(0, 0.2em, 0);
}
.sidenav li, a {
  overflow: hidden;
}
.sidenav li, a::after {
  opacity: 1;
  transform: translate3d(-100%, 0, 0);
}
.sidenav li, a:hover::after,
.sidenav li, a:focus::after {
  transform: translate3d(0, 0, 0);
}
/* end fancy effects */

/* end side navigation css */



/* start images https://www.tutorialspoint.com/how-to-create-a-responsive-image-grid-with-html-and-css */
figure {
  float: right;
  margin: 0px 0px 0px 2em;
  /*padding: 0.2em;
  padding-top: 2em;
  /* border: 1px solid #e3e3e3; */
}

.selfie {
  margin-top: 30px;
  /* border: 1px solid #e3e3e3; */
}

img {
	max-height: 100%;
}

/* end images */


.main {
  margin-left: 140px; /* Same width as the sidebar + left position in px */
  font-size: 28px; /* Increased text to enable scrolling */
  padding: 0px 10px;
}



  /* --- Links within Grid Items --- */
  .grid-item a {
    color: var(--link); /* Apply link color to the entire card link */
    text-decoration: none; /* Keep the card as a whole without an underline */
  }

  .grid-item a:hover {
    color: var(--link-hover);
  }

  .grid-item a:visited {
    color: var(--link-visited);
  }
  
  /* Read More – sliding underline with fade */
	.grid-item .read-more {
	  position: relative;
	  display: inline-block;           /* needed so ::after sizes to the text width */
	  overflow: hidden;                /* hide the sliding line before it enters */
	  text-decoration: none;
	  padding-bottom: 0.05em;          /* space for the underline */
	  color: var(--link);
	}

	.grid-item .read-more:visited {
	  color: var(--link-visited);
	}

	.grid-item .read-more:hover,
	.grid-item .read-more:focus-visible {
	  color: var(--link-hover);
	}

	.grid-item .read-more::after {
	  content: '';
	  position: absolute;
	  left: 0;
	  bottom: 0;
	  width: 100%;
	  height: 0.08em;
	  background-color: var(--accent);
	  opacity: 0;
	  transform: translate3d(-100%, 0, 0);   /* start off-screen to the left */
	  transition: transform 300ms ease, opacity 300ms ease;
	}

	.grid-item .read-more:hover::after,
	.grid-item .read-more:focus-visible::after {
	  opacity: 1;
	  transform: translate3d(0, 0, 0);
	}
	

/* being mobile css */
@media only screen and (max-width: 900px) {
  /*html {overflow-y: auto;}*/
    
    .sidenav {
    display: none;
  }
  
  .logo-link {
    /* Reset left/transform for mobile */
    left: 50%; /* Position the left edge at the horizontal center */
    transform: translateX(-50%); /* Shift it left by half its own width to truly center it */

    /* Ensure it's at the very top */
    top: 3.25em; 
	margin-left: 1.75em; /* centers it. i didn't do calcs for this, but it looks correct */
	display: none;
  }
  .site-logo {
		display: none;
  }
  
  body::after{
	  content:"";
	  position:absolute;
	  right:-3.5rem;
	  bottom:0;
	  width:64px;
	  height:64px;
	  background-image: var(--qed-image);
	  background-repeat: no-repeat;
	  background-position: bottom right;
	  background-size: 64px 64px;
	  /*background:url(../../media/qed.jpeg) no-repeat bottom right/64px 64px; /* var(--qed-image) */
	  pointer-events:none;        /* makes it “untouchable” */
	}
  
  table {
    overflow-x: auto;
  }
  
  /* display header and footer when mobile */
  
  .header {
    display: inline-block;
    width: 100%;
   }
   
   .footer {
	   padding-left: 0;
   }
   
   .topnav {
       height: 4em;
       text-align: center;
       margin-left: 1.75em;
   }
   
  .footer {
    display: block;
    margin-left: 1.25em; /* (3.5 - 1) / 2 */
    background-color: var(--footer-bg);
  }

  .topnav-menu {
    list-style-type: none;
    display: inline-block;
  }

  .topnav a {
    text-align: right;
    text-decoration: none;
    line-height: 100%;
    color: var(--link);
    position: relative;
	white-space: nowrap;
  }

  .topnav a:hover {
    color: var(--link-hover);
  }

/* add special effects to header later, maybe */
  
  body {
	padding-left: 1em;
	margin-right: 2em;
	margin-top: 0em;
	margin-left: 1em;
  }
  
  body::after{
	  display: none;

  }

  h1, h2, h3 {
	margin-right: -15px
  }
  
figure {
  margin: 2em;
  /* padding: 0.2em;
  border: 1px solid #e3e3e3;*/
}

}

/*
@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
*/
/* end mobile css */
